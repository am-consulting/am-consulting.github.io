---
knit: (function(inputFile, encoding) {username<-Sys.info()['user'];fileName<-'defaultPath.csv';pathToFile <-paste0('C:/Users/', username,'/Desktop/pathToCSV/');setwd(pathToFile);buf0<-read.csv(fileName,header = F,skip = 0,stringsAsFactor = F,check.names = F,fileEncoding = 'utf-8');timeStamp<-format(Sys.time(),'%Y%m%d%H%M%S');htmlName<-'LatestGDPNow';rmarkdown::render(inputFile, encoding = encoding, output_file = paste0('C:/Users/',username,buf0[4,1],'am-consulting.co.jp-',htmlName,'.html')) })

title : 'Latest GDPNow(Source:Federal Reserve Bank of Atlanta , Federal Reserve Bank of St.Louis)'
author: "アセット･マネジメント･コンサルティング株式会社 http://am-consulting.co.jp"
date: "`r format(Sys.time(), '%Y-%m-%d %H:%M:%S')`"
output: 
  html_document:
    fig_height: 4
    fig_width: 9  
    keep_md: no
    md_extensions: -ascii_identifiers 
    includes:
       in_header: insertHeader.html
    self_contained: false
---

```{r setup, include=FALSE}
tag <-
  read.csv(file = 'https://raw.githubusercontent.com/am-consulting/am-consulting.github.io/master/components/insertHeader.csv',header = F,fileEncoding = 'UTF8')
tagTxt <- ''
for(rrr in 1:nrow(tag)){
  tagTxt <- paste0(tagTxt,tag[rrr,1],'\n')
}
insertFile <- file("insertHeader.html")
writeLines(text = tagTxt,con = insertFile)
close(insertFile)
```

<style>table:not(#amcc) {font-size: 85%;}</style>

- アセット･マネジメント･コンサルティング株式会社 http://am-consulting.co.jp
- SaECaNet http://saecanet.com/
- Olive http://olive.saecanet.com/
- twitter https://twitter.com/AMC2_Japan
- 本ページへのリンクを共有:<a href="https://twitter.com/share" class="twitter-share-button" data-via="AMC2_Japan" data-size="large">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

```{r set-options, echo=F, cache=F}
options(width = 900)
```

```{r warning = F, error = F, message = F, echo = F}
library(RCurl)
fileName <- 'functionList.csv'
functionList <-
  read.csv(
    file = paste0('https://raw.githubusercontent.com/am-consulting/am-consulting.github.io/master/csv/',
                  fileName),
    header = F,
    as.is = T)
for(iii in 1:nrow(functionList)){
  script <- 
    getURL(paste0("https://raw.githubusercontent.com/am-consulting/am-consulting.github.io/master/", 
                  functionList[iii,1]),
           ssl.verifypeer = F)
  eval(parse(text = script))
}
```

```{r warning=F,error=F,message=F,echo=F}
library(lubridate)
dataImportedTime <- paste0(Sys.time(),' ',Sys.timezone(location = F))
library(quantmod)
cnt <- 0
importData <-
  c(
  'GDPNOW','GDPNow',
  'EQUIPCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Equipment',
	'IPPCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Intellectual Property Products',
	'CHNGNETINVENTCONTRIBNOW','Contributions to percent change in GDPNow: Real Change of Inventory Investment',
	'CHNGNETEXPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Change of Net Exports of Goods and Services',
	'PCECONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures',
	'BUSFIXINVESTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business',
	'GDPICONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment',
	'SLGOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment: State and Local Government',
	'EXPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Goods and Services',
	'STRUCTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Structures ',
	'FEDGOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment: Federal Government',
	'IMPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Goods and Services',
	'FINSALESCONTRIBNOW','Contributions to percent change in GDPNow: Real Final Sales of Domestic Product',
	'PCEGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures: Goods',
	'RESCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Residential',
	'EXPORTSGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Goods',
	'IMPORTSGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Goods',
	'EXPORTSSERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Services',
	'IMPORTSERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Services',
	'GOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment',
	'PCESERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures: Services',
	'FIXINVESTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment',
  'BUSFIXINVESTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business',
  'EQUIPNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Equipment',
  'CHNGNETINVENTNOW','Nowcast for Real Change of Inventory Investment',
  'PCENOW','Nowcast for Real Personal Consumption Expenditures',
  'GDPINOW','Nowcast for Real Gross Private Domestic Investment',
  'CHNGNETEXPORTSNOW','Nowcast for Real Change of Net Exports of Goods and Services',
  'PCESERVICESNOW','Nowcast for Real Personal Consumption Expenditures: Services',
  'STRUCTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Structures',
  'IMPORTSNOW','Nowcast for Real Imports of Goods and Services',
  'RESNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Residential',
  'GOVNOW','Nowcast for Real Gross Government Investment',
  'FINSALESNOW','Nowcast for Real Final Sales of Domestic Product',
  'FEDGOVNOW','Nowcast for Real Gross Government Investment: Federal Government',
  'IMPORTSGOODSNOW','Nowcast for Real Imports of Goods',
  'EXPORTSGOODSNOW','Nowcast for Real Exports of Goods',
  'EXPORTSSERVICESNOW','Nowcast for Real Exports of Services',
  'IMPORTSERVICESNOW','Nowcast for Real Imports of Services',
  'FINSALESDOMPURNOW','Nowcast for Real Final Sales of Domestic Purchasers',
  'PCEGOODSNOW','Nowcast for Real Personal Consumption Expenditures: Goods',
  'FINSALESDOMPRIVPUR','Nowcast for Real Final Sales of Private Domestic Purchasers',
  'FIXINVESTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment',
  'SLGOVNOW','Nowcast for Real Gross Government Investment: State and Local Government',
  'IPPNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Intellectual Property Products'
  )
for (lll in seq(1, length(importData), by = 2)) {
  cnt <- cnt + 1
  tmp <- getSymbols(importData[lll], src = 'FRED', auto.assign = F)
  tmp <-
    data.frame(Date = as.Date(index(tmp)), tmp[, 1], check.names = F, row.names = NULL, stringsAsFactors = F)
  colnames(tmp)[2] <- paste0(importData[lll + 1],'(',importData[lll],')')
  assign(paste0('GDPNow',formatC(cnt, width=2, flag="0")), tmp, envir = .GlobalEnv)
  if(lll == 1){GDPNow00 <- tmp}else{GDPNow00 <- merge(GDPNow00,tmp,by='Date')}
}
```

```{r,warning=F,error=F,message=F,results='hold',echo=F}
dataTitle <- 
  paste0('Latest ',
         colnames(GDPNow01)[2],
         ':',
         paste0(year(tail(GDPNow01[,1],1)),'-Q',ceiling(month(tail(GDPNow01[,1],1))/3)),
         ':',
         tail(GDPNow01[,2],1),'%')
dataSource <- 'Federal Reserve Bank of Atlanta , Federal Reserve Bank of St.Louis'
windowsFonts(Meiryo = windowsFont("Meiryo"))
```

***

- `r paste0("タイトル : ", dataTitle)`
- `r paste0("データ出所 : ", dataSource)`
- Real GDP growth (Seasonally adjusted annual rate,Quarterly percent change (SAAR))
- Source https://www.frbatlanta.org/cqer/research/gdpnow.aspx?panel=1
- Source https://www.frbatlanta.org/-/media/documents/cqer/researchcq/gdpnow/RealGDPTrackingSlides.pdf

***

#### Actual Results:Real Gross Domestic Product
- Percent Change from Preceding Period,Seasonally Adjusted Annual Rate

```{r warning=F,error=F,message=F,echo=F,results='asis'}
RealGrossDomesticProduct <-
  getSymbols('A191RL1Q225SBEA', src = 'FRED', auto.assign = F)
colnames(RealGrossDomesticProduct) <- 'RealGrossDomesticProduct'
RealGrossDomesticProduct <-
  data.frame(Date = index(RealGrossDomesticProduct),
             RealGrossDomesticProduct, 
             row.names = NULL)
fun_latestResult(obj = RealGrossDomesticProduct)
n <- 1
bufTitle <-
  paste0(year(tail(RealGrossDomesticProduct,1)[,1]),
         '-Q',
         ceiling(month(tail(RealGrossDomesticProduct,1)[,1])/3),
         ':',
         tail(RealGrossDomesticProduct,1)[,2],
         '%')
fun_generateKnit(objDF = RealGrossDomesticProduct,plotNum = n,group = 0,barPlot = 1)
eval(parse(text = paste0('dygraphPlot', n)))
cat('<br>')
mergeData <-
  merge(GDPNow00[,c(1,2)],RealGrossDomesticProduct,by = 'Date')
fun_markdownTable(obj = fun_transposeDataFrame(obj = mergeData,
                                               dateFormat = '%Y-%m',
                                               tailN = 5),
                  format = 'html')
```

***

```{r warning=F,error=F,message=F,echo=F}
GDPNow0 <- tail(GDPNow00,1)
GDPNow0 <- t(GDPNow0)
GDPNow0 <- data.frame(row.names(GDPNow0),GDPNow0,check.names = F,stringsAsFactors = F,row.names = NULL)
colnames(GDPNow0) <- GDPNow0[1,]
GDPNow0 <- GDPNow0[-1,]
colnames(GDPNow0)[1] <- 'Observation Date'
GDPNow0[,2] <- as.numeric(GDPNow0[,2])
colnames(GDPNow0)[2] <- 
  paste0(year(as.Date(colnames(GDPNow0)[2])),'-Q',ceiling(month(as.Date(colnames(GDPNow0)[2]))/3))
componentGDPNow <- GDPNow0[-grep('contributions to',GDPNow0[,1],ignore.case = T),]
contributionsGDPNow <- GDPNow0[grep('contributions to',GDPNow0[,1],ignore.case = T),]
```

```{r warning=F,error=F,message=F,echo=F,results='asis'}
# fun_dataTable(obj = componentGDPNow,
#               title = paste0('GDPNow. Nowcast'),
#               dateFormat = 0,
#               orderDirection = 'asc')
cat('#### GDPNow. Nowcast\n\n')
fun_markdownTable(obj = componentGDPNow)
```

- Unit：Percent Change at Annual Rate,Seasonally Adjusted Annual Rate.

***

```{r warning=F,error=F,message=F,echo=F,results='asis'}
# fun_dataTable(obj = contributionsGDPNow,
#               title = paste0('GDPNow. Contributions'),
#               dateFormat = 0,
#               orderDirection = 'asc')
cat('#### GDPNow. Contributions\n\n')
fun_markdownTable(obj = contributionsGDPNow)
```

- Unit：Percentage Points,Seasonally Adjusted.

```{r warning=F,error=F,message=F,echo=F}
read.fun <- 
  c('fun.plot.ggplot.bar.r')
base.url <- 'https://raw.githubusercontent.com/am-consulting/am-consulting.github.io/master/public.code/'
for(iii in seq(length(read.fun))){
  code <- RCurl::getURL(url = paste0(base.url,read.fun[iii]),ssl.verifypeer = F);eval(parse(text = code))
}
```

```{r warning=F,error=F,message=F,echo=F,results='hide'}
username <- Sys.info()['user']
pathToFile <- paste0('C:/Users/', username,'/Desktop/pathToCSV/')
setwd(pathToFile)
fileName <- 'defaultPath.csv'
buf <-
  read.csv(file = fileName,header = F,skip = 0,stringsAsFactor = F,check.names = F,
           fileEncoding = 'utf-8',quote = "\"")
pathOutputTOchart <- paste0("C:/Users/", username, buf[4,1])
setwd(pathOutputTOchart)
#---------------------------------------------------
pngFile <-
  paste0(htmlName, "1.png")
png(file = pngFile, width = 1000, height = 600)
##################
obj <- tail(RealGrossDomesticProduct,4*10)
fun.plot.ggplot.bar(load.library = T,obj = obj,
                    lab.caption = paste0('Percent Change from Preceding Period,Seasonally Adjusted Annual Rate','\nSource:',dataSource),y.breaks = 40)
dev.off()
```

```{r warning=F,error=F,message=F,echo=F,results='hide'}
obj <- 
  componentGDPNow[1,]
colnames(obj)[1] <-
  paste0('Date confirmed:',format(Sys.time(),'%Y-%m-%d'))
fun_markdownTable(obj = obj)
obj <-
  contributionsGDPNow
obj[,1] <-
  gsub('^\\s','',gsub('.+:(.+)\\(.+\\)','\\1',obj[,1]))
colnames(obj)[1] <-
  paste0('Contributions:Date confirmed:',format(Sys.time(),'%Y-%m-%d'))
obj <-
  obj[order(obj[,2],decreasing = T),]
fun_outputMD(tags = 'GDP,USA,GDPNow',
             objDF = obj,
             htmlName = htmlName,
             image1 = 1,
             title = dataTitle,
             tableTitle = 'Contributions',
             tableName = dataTitle,
             buf.row = 4)
fun_updateURLcsv()
fun_updateURLcsv.olive()
```

***
<script>MakeNegative();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3077339-5', 'auto');
  ga('send', 'pageview');

</script>

<!--

--- 
tags : [GDPNow,Federal Reserve Bank of Atlanta , Federal Reserve Bank of St.Louis] 
published : true
---
# Latest GDPNow(GDPNOW):2017-Q1:0.6328%
## 統計データ概要

***

| Date confirmed:2017-04-14| 2017-Q1|
|-------------------------:|-------:|
|            GDPNow(GDPNOW)|  0.6328|

***


|          Contributions:Date confirmed:2017-04-14| 2017-Q1|
|------------------------------------------------:|-------:|
|             Real Final Sales of Domestic Product|  1.3438|
|                                 Fixed Investment|  1.0622|
|               Real Exports of Goods and Services|  0.7233|
|                            Real Exports of Goods|  0.6625|
|                                         Business|  0.6104|
|                                      Residential|  0.4518|
|           Real Personal Consumption Expenditures|  0.3919|
|           Real Gross Private Domestic Investment|  0.3512|
|                                        Equipment|  0.3061|
|                                         Services|  0.2178|
|                   Intellectual Property Products|  0.1885|
|                                            Goods|   0.174|
|                                       Structures|  0.1159|
|                               Federal Government|  0.0899|
|                         Real Exports of Services|  0.0608|
|                 Real Gross Government Investment| -0.0187|
|                         Real Imports of Services| -0.0829|
| Real Change of Net Exports of Goods and Services| -0.0916|
|                       State and Local Government| -0.1086|
|              Real Change of Inventory Investment|  -0.711|
|                            Real Imports of Goods|  -0.732|
|               Real Imports of Goods and Services| -0.8149|





***
	
## データテーブル･チャート
Link - [データテーブル･チャート](http://knowledgevault.saecanet.com/charts/am-consulting.co.jp-LatestGDPNow.html)
<iframe src="http://knowledgevault.saecanet.com/charts/am-consulting.co.jp-LatestGDPNow.html" width="100%" height="800px"></iframe>

-->
