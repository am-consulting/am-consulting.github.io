---
knit: (function(inputFile, encoding) {username<-Sys.info()['user'];fileName<-'defaultPath.csv';pathToFile <-paste0('C:/Users/', username,'/Desktop/pathToCSV/');setwd(pathToFile);buf0<-read.csv(fileName,header = F,skip = 0,stringsAsFactor = F,check.names = F,fileEncoding = 'utf-8');timeStamp<-format(Sys.time(),'%Y%m%d%H%M%S');rmarkdown::render(inputFile, encoding = encoding, output_file = paste0('C:/Users/',username,buf0[2,1],'charts/','am-consulting.co.jp-LatestGDPNow.html')) })

title : 'Latest GDPNow(Source:Federal Reserve Bank of Atlanta , Federal Reserve Bank of St.Louis)'
author: "アセット･マネジメント･コンサルティング株式会社 http://am-consulting.co.jp"
date: "`r format(Sys.time(), '%Y-%m-%d %H:%M:%S')`"
output: 
  html_document:
    keep_md: no
    md_extensions: -ascii_identifiers
---
<link href="http://knowledgevault.saecanet.com/components/rmarkdown-html.css" rel="stylesheet">
<style>
body{font-family:'Hiragino Kaku Gothic Pro','Meiryo UI',Verdana,sans-serif;}
.main-container {
	max-width: 1300px;
	margin-left: auto;
	margin-right: auto;
}
table{
 white-space: nowrap;
}
</style>

- アセット･マネジメント･コンサルティング株式会社 http://am-consulting.co.jp
- SaECaNet http://saecanet.com/
- Olive http://olive.saecanet.com/
- twitter https://twitter.com/AMC2_Japan

本ページへのリンクを共有:<a href="https://twitter.com/share" class="twitter-share-button" data-via="AMC2_Japan" data-size="large">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

```{r set-options, echo=F, cache=F}
options(width = 1000)
```

```{r,warning=F,error=F,message=F,results='hold',echo=F}
dataTitle <- 'Latest GDPNow'
dataSource <- 'Federal Reserve Bank of Atlanta , Federal Reserve Bank of St.Louis'
notes <- '複数のワードで検索する際は半角スペースで区切ってください'
notes0 <- "表中、-9999はNAを意味します"
Author <- "アセット･マネジメント･コンサルティング株式会社 http://am-consulting.co.jp"
cat(paste("Title       : ", dataTitle, "\n"))
cat(paste("Data Source : ", dataSource, "\n"))
cat(paste("Author      : ", Author, "\n"))
cat(paste("特  記      : ", notes, "\n"))
cat(paste("特  記      : ", notes0, "\n"))
windowsFonts(Meiryo = windowsFont("Meiryo"))
```

```{r warning=F,error=F,message=F,echo=F}
dataImportedTime <- paste0(Sys.time(),' ',Sys.timezone(location = F))
library(quantmod)
cnt <- 0
importData <-
  c(
  'GDPNOW','GDPNow',
  'EQUIPCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Equipment',
	'IPPCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Intellectual Property Products',
	'CHNGNETINVENTCONTRIBNOW','Contributions to percent change in GDPNow: Real Change of Inventory Investment',
	'CHNGNETEXPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Change of Net Exports of Goods and Services',
	'PCECONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures',
	'BUSFIXINVESTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business',
	'GDPICONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment',
	'SLGOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment: State and Local Government',
	'EXPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Goods and Services',
	'STRUCTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Business: Structures ',
	'FEDGOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment: Federal Government',
	'IMPORTSCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Goods and Services',
	'FINSALESCONTRIBNOW','Contributions to percent change in GDPNow: Real Final Sales of Domestic Product',
	'PCEGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures: Goods',
	'RESCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment: Residential',
	'EXPORTSGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Goods',
	'IMPORTSGOODSCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Goods',
	'EXPORTSSERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Exports of Services',
	'IMPORTSERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Imports of Services',
	'GOVCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Government Investment',
	'PCESERVICESCONTRIBNOW','Contributions to percent change in GDPNow: Real Personal Consumption Expenditures: Services',
	'FIXINVESTCONTRIBNOW','Contributions to percent change in GDPNow: Real Gross Private Domestic Investment: Fixed Investment',
  'BUSFIXINVESTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business',
  'EQUIPNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Equipment',
  'CHNGNETINVENTNOW','Nowcast for Real Change of Inventory Investment',
  'PCENOW','Nowcast for Real Personal Consumption Expenditures',
  'GDPINOW','Nowcast for Real Gross Private Domestic Investment',
  'CHNGNETEXPORTSNOW','Nowcast for Real Change of Net Exports of Goods and Services',
  'PCESERVICESNOW','Nowcast for Real Personal Consumption Expenditures: Services',
  'STRUCTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Structures',
  'IMPORTSNOW','Nowcast for Real Imports of Goods and Services',
  'RESNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Residential',
  'GOVNOW','Nowcast for Real Gross Government Investment',
  'FINSALESNOW','Nowcast for Real Final Sales of Domestic Product',
  'FEDGOVNOW','Nowcast for Real Gross Government Investment: Federal Government',
  'IMPORTSGOODSNOW','Nowcast for Real Imports of Goods',
  'EXPORTSGOODSNOW','Nowcast for Real Exports of Goods',
  'EXPORTSSERVICESNOW','Nowcast for Real Exports of Services',
  'IMPORTSERVICESNOW','Nowcast for Real Imports of Services',
  'FINSALESDOMPURNOW','Nowcast for Real Final Sales of Domestic Purchasers',
  'PCEGOODSNOW','Nowcast for Real Personal Consumption Expenditures: Goods',
  'FINSALESDOMPRIVPUR','Nowcast for Real Final Sales of Private Domestic Purchasers',
  'FIXINVESTNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment',
  'SLGOVNOW','Nowcast for Real Gross Government Investment: State and Local Government',
  'IPPNOW','Nowcast for Real Gross Private Domestic Investment: Fixed Investment: Business: Intellectual Property Products'
  )
for (lll in seq(1, length(importData), by = 2)) {
  cnt <- cnt + 1
  tmp <- getSymbols(importData[lll], src = 'FRED', auto.assign = F)
  tmp <-
    data.frame(Date = as.Date(index(tmp)), tmp[, 1], check.names = F, row.names = NULL, stringsAsFactors = F)
  colnames(tmp)[2] <- paste0(importData[lll + 1],'(',importData[lll],')')
  assign(paste0('GDPNow',formatC(cnt, width=2, flag="0")), tmp, envir = .GlobalEnv)
  if(lll == 1){GDPNow00 <- tmp}else{GDPNow00 <- merge(GDPNow00,tmp,by='Date')}
}
```

```{r warning=F,error=F,message=F,echo=F}
GDPNow0 <- tail(GDPNow00,1)
GDPNow0 <- t(GDPNow0)
GDPNow0 <- data.frame(row.names(GDPNow0),GDPNow0,check.names = F,stringsAsFactors = F,row.names = NULL)
colnames(GDPNow0) <- GDPNow0[1,]
GDPNow0 <- GDPNow0[-1,]
colnames(GDPNow0)[1] <- 'Observation Date'
GDPNow0[,2] <- as.numeric(GDPNow0[,2])
componentGDPNow <- GDPNow0[-grep('contributions to',GDPNow0[,1],ignore.case = T),]
contributionsGDPNow <- GDPNow0[grep('contributions to',GDPNow0[,1],ignore.case = T),]
```

```{r warning=F,error=F,message=F,echo=F,results='asis'}
funDataTable <- 
  function(obj,orderColumn = 0,orderDirection = 'asc',width00 = '5%',caption = '',dataTitle='',title='',append='') {
  cat(paste('<h4>GDPNow. データ取得日時:', dataTitle, '</h4>'))  
  DT::datatable(
    obj,
    extensions = c("Buttons", "ColReorder" , "FixedColumns", "FixedHeader"),
    options = list(paging = T, autoWidth = F, info = T, lengthChange = T, ordering = T,
      searching = T, scrollX = T, lengthMenu = list(c(15,-1), c(15,'All')),
      orderClasses = T, order = list(list(orderColumn, orderDirection)), 
      search = list(regex = T, caseInsensitive = T), searchHighlight = T,
      columnDefs = list(list(width = width00, targets = 0)),
      dom = 'BRlfrtip', buttons = I('colvis'), colReorder = T, fixedHeader = T),
    rownames = F, class = 'display compact', escape = F, filter = 'top', 
    caption = caption
    # caption = htmltools::tags$caption(style = 'caption-side: bottom; text-align: center;','Table ', htmltools::em(caption))
  )  
  }
```

```{r warning=F,error=F,message=F,echo=F,results='asis'}
funDataTable(obj = componentGDPNow, dataTitle = dataImportedTime)
```

##### Unit：Percent Change at Annual Rate,Seasonally Adjusted Annual Rate.

***

```{r warning=F,error=F,message=F,echo=F,results='asis'}
funDataTable(obj = contributionsGDPNow, dataTitle = dataImportedTime)
```

##### Unit：Percentage Points,Seasonally Adjusted.

***

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3077339-5', 'auto');
  ga('send', 'pageview');

</script>
